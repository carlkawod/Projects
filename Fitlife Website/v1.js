!function(e){var t={};function s(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};e[r].call(i.exports,i,i.exports,s);i.l=!0;return i.exports}var r=[{name:"head-dlb/bundle.production.js",path:"head-dlb/static-1.719/bundle.production.js",ids:{}}];s.dlbpr=function(e,t){var i=r[e];if(!i.r){i.r=window["__webpack_require_"+i.name+"__"];if(!i.r)throw new Error("dlb "+i.name+" not loaded");i.r.linkDlb(s,i.ids)}return i.r(t)};s.m=e;s.c=t;s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})};s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};s.t=function(e,t){1&t&&(e=s(e));if(8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);s.r(r);Object.defineProperty(r,"default",{enumerable:!0,value:e});if(2&t&&"string"!=typeof e)for(var i in e)s.d(r,i,function(t){return e[t]}.bind(null,i));return r};s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};s.d(t,"a",t);return t};s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};s.p="//static.hsappstatic.net/integrated-app-embedder/static-1.8945/";s(s.s=0)}([function(e,t,s){"use strict";s.r(t);var r=s(15),i=s(11),n=s(12),o=s(13),a=s(14),c=s(16);s.d(t,"FormMessages",(function(){return c.b}));s.d(t,"LiveChatMessages",(function(){return c.c}));s.d(t,"PluginMessages",(function(){return c.d}));s.d(t,"CoreMessages",(function(){return c.a}));s.d(t,"ProxyMessages",(function(){return c.e}));s.d(t,"SurveyMessage",(function(){return c.f}));var u=s(3);for(var h in u)["default","FormMessages","LiveChatMessages","PluginMessages","CoreMessages","ProxyMessages","SurveyMessage","default"].indexOf(h)<0&&function(e){s.d(t,e,(function(){return u[e]}))}(h);const l=window;l.IntegratedAppEmbedder=r.a;l.IntegratedAppOptions=i.a;l.FormsAppOptions=n.a;l.LiveChatAppOptions=o.a;l.PluginAppOptions=a.a},function(e,t,s){"use strict";(function(e){s.d(t,"a",(function(){return n}));const r="undefined"!=typeof window&&window,i="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,n=r||void 0!==e&&e||i;!function(){if(!n)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(this,s(2))},function(e,t){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(e){"object"==typeof window&&(s=window)}e.exports=s},function(e,t,s){"use strict";s.r(t);var r=s(4);s.d(t,"spinnerImage",(function(){return r.a}));var i=s(5);for(var n in i)["spinnerImage","default"].indexOf(n)<0&&function(e){s.d(t,e,(function(){return i[e]}))}(n);var o=s(6);s.d(t,"Apps",(function(){return o.a}));var a=s(7);s.d(t,"SURVEY_APPS",(function(){return a.a}));s.d(t,"SURVEY_FORM_MAP",(function(){return a.b}))},function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));const r="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODIuNSIgaGVpZ2h0PSI3NSIgdmlld0JveD0iMCAwIDU1IDUwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxzdHlsZT4KICAgIEBrZXlmcmFtZXMgbG9hZGluZ0NvbG9yQW5pbWF0aW9uIHsKICAgICAgMjUlIHsKICAgICAgICBmaWxsOiAjMDA5MWFlOwogICAgICB9CiAgICAgIDc1JSB7CiAgICAgICAgZmlsbDogIzAwOTFhZTsKICAgICAgfQogICAgfQoKICAgIEBrZXlmcmFtZXMgbG9hZGluZ0FuaW1hdGlvbiB7CiAgICAgIDAlLCAxMDAlIHsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7CiAgICAgIH0KICAgICAgMjUlIHsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLjI1ZW0pOwogICAgICB9CiAgICAgIDUwJSB7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOwogICAgICB9CiAgICAgIDc1JSB7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0uMjVlbSk7CiAgICAgIH0KICAgIH0KCiAgICBjaXJjbGUgewogICAgICBmaWxsOiAjZjVmOGZhOwogICAgICBhbmltYXRpb246IGxvYWRpbmdBbmltYXRpb24gMXMgbGluZWFyIGluZmluaXRlLCBsb2FkaW5nQ29sb3JBbmltYXRpb24gIDFzIGxpbmVhciBpbmZpbml0ZTsKICAgIH0KCiAgICBnIGNpcmNsZTpudGgtY2hpbGQoMikgewogICAgICBhbmltYXRpb24tZGVsYXk6IC0wLjY2czsKICAgIH0KCiAgICBnIGNpcmNsZTpudGgtY2hpbGQoMykgewogICAgICBhbmltYXRpb24tZGVsYXk6IC0wLjMzczsKICAgIH0KICA8L3N0eWxlPgogIDxnPgogICAgPGNpcmNsZSBjeD0iMTAiIGN5PSIyNSIgcj0iNSI+PC9jaXJjbGU+CiAgICA8Y2lyY2xlIGN4PSIyNSIgY3k9IjI1IiByPSI1Ij48L2NpcmNsZT4KICAgIDxjaXJjbGUgY3g9IjQwIiBjeT0iMjUiIHI9IjUiPjwvY2lyY2xlPgogIDwvZz4KPC9zdmc+Cg=="},function(e,t){},function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));const r={Forms:"integrated-form-app",LiveChat:"integrated-livechat-app",Plugin:"integrated-plugin-app",Background:"integrated-plugin-proxy",Survey:"integrated-survey-ui"}},function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));s.d(t,"b",(function(){return i}));const r={CAMPAIGN_ASSISTANT:"CAMPAIGN_ASSISTANT",BLOG_IDEAS_GENERATOR:"BLOG_IDEAS_GENERATOR",EMAIL_SIGNATURE_GENERATOR:"EMAIL_SIGNATURE_GENERATOR",BRAND_KIT_GENERATOR:"BRAND_KIT_GENERATOR"},i={[r.CAMPAIGN_ASSISTANT]:{QA:"bcc0d68a-86d8-4846-914b-fa4953107bbc",PROD:""},[r.BLOG_IDEAS_GENERATOR]:{QA:"1be9f356-b2af-4f7f-82dc-54b12d85c4ea",PROD:""},[r.EMAIL_SIGNATURE_GENERATOR]:{QA:"8df700b7-325b-44d5-b876-ac64361c7a57",PROD:""},[r.BRAND_KIT_GENERATOR]:{QA:"f9bc01f6-f748-4e66-8bd9-c21f6fc28add",PROD:""}}},function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));const r={CreateFormAppNavigation:"CREATE_FORM_APP_NAVIGATION"}},function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));const r={CreateLiveChatAppNavigation:"CREATE_LIVE_CHAT_APP_NAVIGATION"}},function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));const r={PluginSettingsNavigation:"PLUGIN_SETTINGS_NAVIGATION",PluginLeadinConfig:"PLUGIN_LEADIN_CONFIG",TrackConsent:"INTEGRATED_APP_EMBEDDER_TRACK_CONSENT",InternalTrackingFetchRequest:"INTEGRATED_TRACKING_FETCH_REQUEST",InternalTrackingFetchResponse:"INTEGRATED_TRACKING_FETCH_RESPONSE",InternalTrackingFetchError:"INTEGRATED_TRACKING_FETCH_ERROR",InternalTrackingChangeRequest:"INTEGRATED_TRACKING_CHANGE_REQUEST",InternalTrackingChangeError:"INTEGRATED_TRACKING_CHANGE_ERROR",BusinessUnitFetchRequest:"BUSINESS_UNIT_FETCH_REQUEST",BusinessUnitFetchResponse:"BUSINESS_UNIT_FETCH_FETCH_RESPONSE",BusinessUnitFetchError:"BUSINESS_UNIT_FETCH_FETCH_ERROR",BusinessUnitChangeRequest:"BUSINESS_UNIT_CHANGE_REQUEST",BusinessUnitChangeError:"BUSINESS_UNIT_CHANGE_ERROR",SkipReviewRequest:"SKIP_REVIEW_REQUEST",SkipReviewResponse:"SKIP_REVIEW_RESPONSE",SkipReviewError:"SKIP_REVIEW_ERROR",RemoveParentQueryParam:"REMOVE_PARENT_QUERY_PARAM",ContentEmbedInstallRequest:"CONTENT_EMBED_INSTALL_REQUEST",ContentEmbedInstallResponse:"CONTENT_EMBED_INSTALL_RESPONSE",ContentEmbedInstallError:"CONTENT_EMBED_INSTALL_ERROR"}},function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var r=s(16);class i{constructor(){this.options=[]}setRefreshToken(e){this.options.push({key:r.a.SendRefreshToken,payload:e});return this}setLocale(e){this.options.push({key:r.a.SendLocale,payload:e});return this}setDeviceId(e){this.options.push({key:r.a.SendDeviceId,payload:e});return this}flush(){this.options=[]}}},function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s(11),i=s(8);class n extends r.a{setCreateFormAppInit(){this.options.push({key:i.a.CreateFormAppNavigation});return this}}},function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s(11),i=s(9);class n extends r.a{setCreateLiveChatAppInit(){this.options.push({key:i.a.CreateLiveChatAppNavigation});return this}}},function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var r=s(11),i=s(10);class n extends r.a{setPluginSettingsInit(){this.options.push({key:i.a.PluginSettingsNavigation});return this}setLeadinConfig(e){this.options.push({key:i.a.PluginLeadinConfig,payload:e});return this}}},function(e,t,s){"use strict";var r=s(1);function i(e){return"function"==typeof e}const n=Array.isArray||(e=>e&&"number"==typeof e.length);function o(e){return null!=e&&"object"==typeof e}const a={e:{}};let c;function u(){try{return c.apply(this,arguments)}catch(e){a.e=e;return a}}function h(e){c=e;return u}class l extends Error{constructor(e){super();this.errors=e;const t=Error.call(this,e?`${e.length} errors occurred during unsubscription:\n  ${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"");this.name=t.name="UnsubscriptionError";this.stack=t.stack;this.message=t.message}}class d{constructor(e){this.closed=!1;this._parent=null;this._parents=null;this._subscriptions=null;e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:s,_parents:r,_unsubscribe:c,_subscriptions:u}=this;this.closed=!0;this._parent=null;this._parents=null;this._subscriptions=null;let d=-1,p=r?r.length:0;for(;s;){s.remove(this);s=++d<p&&r[d]||null}if(i(c)){if(h(c).call(this)===a){t=!0;e=e||(a.e instanceof l?E(a.e.errors):[a.e])}}if(n(u)){d=-1;p=u.length;for(;++d<p;){const s=u[d];if(o(s)){if(h(s.unsubscribe).call(s)===a){t=!0;e=e||[];let s=a.e;s instanceof l?e=e.concat(E(s.errors)):e.push(s)}}}}if(t)throw new l(e)}add(e){if(!e||e===d.EMPTY)return d.EMPTY;if(e===this)return this;let t=e;switch(typeof e){case"function":t=new d(e);case"object":if(t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed){t.unsubscribe();return t}if("function"!=typeof t._addParent){const e=t;t=new d;t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}(this._subscriptions||(this._subscriptions=[])).push(t);t._addParent(this);return t}remove(e){const t=this._subscriptions;if(t){const s=t.indexOf(e);-1!==s&&t.splice(s,1)}}_addParent(e){let{_parent:t,_parents:s}=this;t&&t!==e?s?-1===s.indexOf(e)&&s.push(e):this._parents=[e]:this._parent=e}}d.EMPTY=function(e){e.closed=!0;return e}(new d);function E(e){return e.reduce((e,t)=>e.concat(t instanceof l?t.errors:t),[])}const p={closed:!0,next(e){},error(e){throw e},complete(){}},b=r.a.Symbol,_="function"==typeof b&&"function"==typeof b.for?b.for("rxSubscriber"):"@@rxSubscriber";class f extends d{constructor(e,t,s){super();this.syncErrorValue=null;this.syncErrorThrown=!1;this.syncErrorThrowable=!1;this.isStopped=!1;switch(arguments.length){case 0:this.destination=p;break;case 1:if(!e){this.destination=p;break}if("object"==typeof e){if(I(e)){const t=e[_]();this.syncErrorThrowable=t.syncErrorThrowable;this.destination=t;t.add(this)}else{this.syncErrorThrowable=!0;this.destination=new g(this,e)}break}default:this.syncErrorThrowable=!0;this.destination=new g(this,e,t,s)}}[_](){return this}static create(e,t,s){const r=new f(e,t,s);r.syncErrorThrowable=!1;return r}next(e){this.isStopped||this._next(e)}error(e){if(!this.isStopped){this.isStopped=!0;this._error(e)}}complete(){if(!this.isStopped){this.isStopped=!0;this._complete()}}unsubscribe(){if(!this.closed){this.isStopped=!0;super.unsubscribe()}}_next(e){this.destination.next(e)}_error(e){this.destination.error(e);this.unsubscribe()}_complete(){this.destination.complete();this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;this._parent=null;this._parents=null;this.unsubscribe();this.closed=!1;this.isStopped=!1;this._parent=e;this._parents=t;return this}}class g extends f{constructor(e,t,s,r){super();this._parentSubscriber=e;let n,o=this;if(i(t))n=t;else if(t){n=t.next;s=t.error;r=t.complete;if(t!==p){o=Object.create(t);i(o.unsubscribe)&&this.add(o.unsubscribe.bind(o));o.unsubscribe=this.unsubscribe.bind(this)}}this._context=o;this._next=n;this._error=s;this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._error)if(t.syncErrorThrowable){this.__tryOrSetError(t,this._error,e);this.unsubscribe()}else{this.__tryOrUnsub(this._error,e);this.unsubscribe()}else{if(!t.syncErrorThrowable){this.unsubscribe();throw e}t.syncErrorValue=e;t.syncErrorThrown=!0;this.unsubscribe()}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);if(e.syncErrorThrowable){this.__tryOrSetError(e,t);this.unsubscribe()}else{this.__tryOrUnsub(t);this.unsubscribe()}}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(e){this.unsubscribe();throw e}}__tryOrSetError(e,t,s){try{t.call(this._context,s)}catch(t){e.syncErrorValue=t;e.syncErrorThrown=!0;return!0}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null;this._parentSubscriber=null;e.unsubscribe()}}function I(e){return e instanceof f||"syncErrorThrowable"in e&&e[_]}function A(e,t,s){if(e){if(e instanceof f)return e;if(e[_])return e[_]()}return e||t||s?new f(e,t,s):new f(p)}function m(e){let t,s=e.Symbol;if("function"==typeof s)if(s.observable)t=s.observable;else{t=s("observable");s.observable=t}else t="@@observable";return t}const T=m(r.a);function R(){}function C(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:R}class S{constructor(e){this._isScalar=!1;e&&(this._subscribe=e)}lift(e){const t=new S;t.source=this;t.operator=e;return t}subscribe(e,t,s){const{operator:r}=this,i=A(e,t,s);r?r.call(i,this.source):i.add(this.source||!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i));if(i.syncErrorThrowable){i.syncErrorThrowable=!1;if(i.syncErrorThrown)throw i.syncErrorValue}return i}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0;e.syncErrorValue=t;e.error(t)}}forEach(e,t){t||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?t=r.a.Rx.config.Promise:r.a.Promise&&(t=r.a.Promise));if(!t)throw new Error("no Promise impl found");return new t((t,s)=>{let r;r=this.subscribe(t=>{if(r)try{e(t)}catch(e){s(e);r.unsubscribe()}else e(t)},s,t)})}_subscribe(e){return this.source.subscribe(e)}[T](){return this}pipe(...e){return 0===e.length?this:C(e)(this)}toPromise(e){e||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?e=r.a.Rx.config.Promise:r.a.Promise&&(e=r.a.Promise));if(!e)throw new Error("no Promise impl found");return new e((e,t)=>{let s;this.subscribe(e=>s=e,e=>t(e),()=>e(s))})}}S.create=e=>new S(e);class N extends Error{constructor(){const e=super("object unsubscribed");this.name=e.name="ObjectUnsubscribedError";this.stack=e.stack;this.message=e.message}}class w extends d{constructor(e,t){super();this.subject=e;this.subscriber=t;this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;this.subject=null;if(!t||0===t.length||e.isStopped||e.closed)return;const s=t.indexOf(this.subscriber);-1!==s&&t.splice(s,1)}}class y extends f{constructor(e){super(e);this.destination=e}}class O extends S{constructor(){super();this.observers=[];this.closed=!1;this.isStopped=!1;this.hasError=!1;this.thrownError=null}[_](){return new y(this)}lift(e){const t=new v(this,this);t.operator=e;return t}next(e){if(this.closed)throw new N;if(!this.isStopped){const{observers:t}=this,s=t.length,r=t.slice();for(let t=0;t<s;t++)r[t].next(e)}}error(e){if(this.closed)throw new N;this.hasError=!0;this.thrownError=e;this.isStopped=!0;const{observers:t}=this,s=t.length,r=t.slice();for(let t=0;t<s;t++)r[t].error(e);this.observers.length=0}complete(){if(this.closed)throw new N;this.isStopped=!0;const{observers:e}=this,t=e.length,s=e.slice();for(let e=0;e<t;e++)s[e].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0;this.closed=!0;this.observers=null}_trySubscribe(e){if(this.closed)throw new N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new N;if(this.hasError){e.error(this.thrownError);return d.EMPTY}if(this.isStopped){e.complete();return d.EMPTY}this.observers.push(e);return new w(this,e)}asObservable(){const e=new S;e.source=this;return e}}O.create=(e,t)=>new v(e,t);class v extends O{constructor(e,t){super();this.destination=e;this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):d.EMPTY}}class M extends Error{constructor(){const e=super("no elements in sequence");this.name=e.name="EmptyError";this.stack=e.stack;this.message=e.message}}function D(e,t,s){return r=>r.lift(new P(e,t,s,r))}class P{constructor(e,t,s,r){this.predicate=e;this.resultSelector=t;this.defaultValue=s;this.source=r}call(e,t){return t.subscribe(new F(e,this.predicate,this.resultSelector,this.defaultValue,this.source))}}class F extends f{constructor(e,t,s,r,i){super(e);this.predicate=t;this.resultSelector=s;this.defaultValue=r;this.source=i;this.index=0;this.hasCompleted=!1;this._emitted=!1}_next(e){const t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)}_tryPredicate(e,t){let s;try{s=this.predicate(e,t,this.source)}catch(e){this.destination.error(e);return}s&&this._emit(e,t)}_emit(e,t){this.resultSelector?this._tryResultSelector(e,t):this._emitFinal(e)}_tryResultSelector(e,t){let s;try{s=this.resultSelector(e,t)}catch(e){this.destination.error(e);return}this._emitFinal(s)}_emitFinal(e){const t=this.destination;if(!this._emitted){this._emitted=!0;t.next(e);t.complete();this.hasCompleted=!0}}_complete(){const e=this.destination;if(this.hasCompleted||void 0===this.defaultValue)this.hasCompleted||e.error(new M);else{e.next(this.defaultValue);e.complete()}}}var x=s(3);class B{constructor(e,t,s,r,i={}){this.iframe=document.createElement("iframe");this.addFrameStyles=()=>{this.iframeOptions.style&&Object.entries(this.iframeOptions.style).forEach(([e,t])=>{this.iframe.style[e]=t})};this.id=e;this.src=t;this.getIframeHeight=s;this.iframeOptions=i;this.createIframeElement(r)}addIframeResizeEvent(e){if(this.iframeOptions.autoResize)return;let t;window.addEventListener("resize",()=>{t&&cancelAnimationFrame(t);t=requestAnimationFrame(()=>{e.style.minHeight=this.getIframeHeight()+"px"})},!0)}createIframeElement(e=!0){this.iframe.id=this.id;this.iframe.src=this.src;this.iframe.setAttribute("referrerpolicy","no-referrer-when-downgrade");this.iframe.setAttribute("data-test-id",this.id+"-iframe");this.iframe.setAttribute("sandbox","allow-scripts allow-forms allow-popups allow-top-navigation allow-same-origin");if(e){this.iframe.style.minHeight=this.getIframeHeight()+"px";this.addIframeResizeEvent(this.iframe);this.iframe.width="100%";this.addFrameStyles()}else this.iframe.style.display="none"}addIframeLoadEvent(e,t){t.addEventListener("load",()=>{e&&document.getElementById(e.id)&&e.remove()},!0)}createSpinnerImage(){const e=document.createElement("img");e.src=x.spinnerImage;e.id="hs-plugin-loader";e.style.cssText=" top: 50%;\n                        left: 50%;\n                        margin-left: -41px;\n                        margin-top: -37;\n                        display: block;\n                        position: absolute;\n                        z-index: 900;";return e}withLoadingSpinner(){const e=document.createElement("div"),t=this.createSpinnerImage();e.appendChild(t);e.appendChild(this.iframe);this.addIframeLoadEvent(t,this.iframe);return e}getIframe(){return this.iframe}}var G=s(16),k=s(11);function U(e,t){return function(s){return s.lift(new H(e,t))}}class H{constructor(e,t){this.predicate=e;this.thisArg=t}call(e,t){return t.subscribe(new L(e,this.predicate,this.thisArg))}}class L extends f{constructor(e,t,s){super(e);this.predicate=t;this.thisArg=s;this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){this.destination.error(e);return}t&&this.destination.next(e)}}s.d(t,"a",(function(){return K}));class K{constructor(e,t,s,r,i="",n={}){this.optionsManager=new k.a;this.observable=new O;this.messageStack=[];this.ready=!1;this.impactCodeBaseUrl="https://hubspot.sjv.io/";this.app=e;this.portalId=t;this.baseUrl=s;this.getIframeHeight=r;this.impactCode=i;this.iframeOptions=n;const o=this.resolveRoute();console.info("HubSpot plugin - IntegratedAppEmbedder initializing for:",JSON.stringify({app:e,baseUrl:s,route:o},null,2));this.iframeHandler=new B(e,o,this.getIframeHeight,e!==x.Apps.Background,this.iframeOptions);window.addEventListener("message",this.onMessageReceived.bind(this));this.flushExistingOptions();this.listenForFrameReload();this.listenForFrameRedirect()}resolveRoute(){switch(this.app){case"integrated-plugin-app":return this.impactCode?`${this.impactCodeBaseUrl}${this.impactCode}?u=${encodeURIComponent(`${this.baseUrl}/integrated-plugin-ui/${this.portalId}`)}&wp=true`:`${this.baseUrl}/integrated-plugin-ui/${this.portalId}?wp=true`;case"integrated-form-app":return`${this.baseUrl}/integrated-forms-ui/${this.portalId}/dashboard?wp=true`;case"integrated-livechat-app":return`${this.baseUrl}/integrated-livechat-ui/${this.portalId}?wp=true`;case"integrated-plugin-proxy":return`${this.baseUrl}/integrated-plugin-proxy/${this.portalId}?wp=true`;case x.Apps.Survey:return`${this.baseUrl}/integrated-survey-ui/${this.portalId?this.portalId+"/auth":"no-auth"}`;default:return this.baseUrl}}onMessageReceived(e){const t=this.iframeHandler.getIframe();t&&e.source===t.contentWindow&&this.observable.next(e.data)}listenForFrameReload(){this.observable.pipe(U(e=>e.key===G.a.ReloadParentFrame)).subscribe(()=>{window.location.reload()})}listenForFrameRedirect(){this.observable.pipe(U(e=>e.key===G.a.RedirectParentFrame)).subscribe(e=>{window.location.href=e.payload})}flushExistingOptions(){this.observable.pipe(D(e=>e.key===G.a.HandshakeReceive)).subscribe(()=>{this.ready=!0;[...this.optionsManager.options,...this.messageStack].forEach(e=>{const t=this.iframeHandler.getIframe();t&&t.contentWindow&&t.contentWindow.postMessage(e,"*")});this.messageStack=[];this.optionsManager.flush()})}setOptions(e){this.optionsManager=e;return this}attachTo(e,t=!0){if(t){const t=this.iframeHandler.withLoadingSpinner();e.append(t)}else e.append(this.iframeHandler.getIframe());return this}subscribe(e){return this.observable.subscribe(e)}postMessage(e){const t=this.iframeHandler.getIframe();this.ready?t&&t.contentWindow&&t.contentWindow.postMessage(e,"*"):this.messageStack.push(e)}resizeIframe({height:e=0,width:t=0}){if(e>0&&t>0){const s=this.iframeHandler.getIframe();s.style.minHeight=e+"px";s.style.width=t+"px"}}postAsyncMessage(e){const t=this.iframeHandler.getIframe();return new Promise((s,r)=>{const i=Date.now();this.observable.pipe(D(t=>t.requestId===i&&t.key===e.key)).subscribe(({payload:e})=>{s(e)});this.ready?t&&t.contentWindow?t.contentWindow.postMessage(Object.assign({},e,{requestId:i}),"*"):r(new Error("Iframe not found")):this.messageStack.push(Object.assign({},e,{requestId:i}))})}postStartAppMessage(){console.info("HubSpot plugin - IntegratedAppEmbedder send StartApp message for:",this.app);this.postMessage({key:G.a.StartApp})}}},function(e,t,s){"use strict";const r={StartApp:"START_APP",HandshakeReceive:"INTEGRATED_APP_EMBEDDER_HANDSHAKE_RECEIVED",SendRefreshToken:"INTEGRATED_APP_EMBEDDER_SEND_REFRESH_TOKEN",ReloadParentFrame:"INTEGRATED_APP_EMBEDDER_RELOAD_PARENT_FRAME",RedirectParentFrame:"INTEGRATED_APP_EMBEDDER_REDIRECT_PARENT_FRAME",SendLocale:"INTEGRATED_APP_EMBEDDER_SEND_LOCALE",SendDeviceId:"INTEGRATED_APP_EMBEDDER_SEND_DEVICE_ID"};var i=s(8),n=s(9),o=s(10);const a={FetchForms:"FETCH_FORMS",FetchForm:"FETCH_FORM",CreateFormFromTemplate:"CREATE_FORM_FROM_TEMPLATE",FetchAuth:"FETCH_AUTH",FetchMeetingsAndUsers:"FETCH_MEETINGS_AND_USERS",FetchOrCreateMeetingUser:"FETCH_OR_CREATE_MEETING_USER",ConnectMeetingsCalendar:"CONNECT_MEETINGS_CALENDAR",FetchContactsCreateSinceActivation:"FETCH_CONTACTS_CREATED_SINCE_ACTIVATION",TrackFormPreviewRender:"TRACK_FORM_PREVIEW_RENDER",TrackFormCreatedFromTemplate:"TRACK_FORM_CREATED_FROM_TEMPLATE",TrackFormCreationFailed:"TRACK_FORM_CREATION_FAILED",TrackMeetingPreviewRender:"TRACK_MEETING_PREVIEW_RENDER",TrackSidebarMetaChange:"TRACK_SIDEBAR_META_CHANGE",TrackReviewBannerRender:"TRACK_REVIEW_BANNER_RENDER",TrackReviewBannerInteraction:"TRACK_REVIEW_BANNER_INTERACTION",TrackReviewBannerDismissed:"TRACK_REVIEW_BANNER_DISMISSED",TrackPluginDeactivation:"TRACK_PLUGIN_DEACTIVATION",FetchContentEmbeds:"FETCH_CONTENT_EMBEDS",FetchContentEmbed:"FETCH_CONTENT_EMBED",FetchDomains:"FETCH_DOMAINS",CreateContentEmbed:"CREATE_CONTENT_EMBED",TrackContentEmbedUsage:"TRACK_CONTENT_EMBED_USAGE",TrackContentEmbedPluginInstall:"TRACK_CONTENT_EMBED_INSTALL",TrackContentEmbedCreate:"TRACK_CONTENT_CREATE_EMBED",TrackContentEmbedAdd:"TRACK_CONTENT_EMBED_ADD",TrackContentEmbedBlockAdd:"TRACK_CONTENT_EMBED_BLOCK_ADD",TrackContentEmbedBlockRemove:"TRACK_CONTENT_EMBED_BLOCK_REMOVE",TrackContentEmbedSave:"TRACK_CONTENT_EMBED_SAVE",TrackContentEmbedPublish:"TRACK_CONTENT_EMBED_PUBLISH",TrackContentEmbedLearnMoreInteraction:"TRACK_CONTENT_EMBED_LEARN_MORE"},c={RESIZE_IFRAME:"INTEGRATED_APP_EMBEDDER_RESIZE_IFRAME",SEND_SURVEY_DATA:"INTEGRATED_APP_EMBEDDER_SEND_SURVEY_DATA"};s.d(t,"a",(function(){return r}));s.d(t,"b",(function(){return i.a}));s.d(t,"c",(function(){return n.a}));s.d(t,"d",(function(){return o.a}));s.d(t,"e",(function(){return a}));s.d(t,"f",(function(){return c}))}]);
//# sourceMappingURL=//static.hsappstatic.net/integrated-app-embedder/static-1.8945/js/embedder.js.map